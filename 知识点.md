# Continuation知识点

##到底什么是Contiunation？  
传统上， continuation（继续）被定义为一个函数，它代表 "计算剩余的部分" 或者 "接下来要做的事"。 

我们对函数的理解只有一半是正确的，因为这样的理解基于一个错误的假设：函数一定要把其返回值返回给调用者。
continuation就是更加广义的函数。这里的函数不一定要把返回值传回给调用者，相反，它可以把返回值传给程序中的任意代码。**continuation就是一种特别的参数**，把这种参数传到函数中，函数就能够根据**continuation将返回值传递到程序中的某段代码中**。举例：  
```javascript
int i = add(5, 10);  
int j = square(i); 
```
add这个函数将返回15然后这个值会赋给i，这也是add被调用的地方。接下来i的值又会被用于调用square。请注意支持惰性求值的编译器是不能打乱这段代码执行顺序的，因为第二个函数的执行依赖于第一个函数成功执行并返回结果。    

用**Continuation Pass Style(CPS)** 技术重写,这样一来add的返回值就不是传给其调用者，而是直接传到square里去了。
```javascript
int j = add(5, 10, square);
```
在上例中，add多了一个参数：一个函数，add必须在完成自己的计算后，调用这个函数并把结果传给它。这时square就是add的一个continuation。上面两段程序中j的值都是225。
